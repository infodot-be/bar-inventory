{% load humanize %}
{% load stock_filters %}
<div class="card fade-in">
    <div class="card-body">
        <div class="row align-items-center">
            <div class="col-6">
                <h5 class="card-title mb-1">{{ beverage.name }}</h5>
                <small class="text-muted">
                    <i class="bi bi-box"></i> {{ beverage.unit_type }}
                    {% if beverage.liters_per_unit > 0 %}
                    ({{ beverage.liters_per_unit }}L each)
                    {% endif %}
                </small>
            </div>
            <div class="col-6 text-end">
                <div class="quantity-display">{{ stock.quantity }}</div>
                <div class="liters-display">
                    <i class="bi bi-droplet-fill"></i> {{ liters|floor_decimal:2 }}L
                </div>
            </div>
        </div>

        <div class="row mt-3 g-2">
            <div class="col-4 text-center">
                <button
                    class="btn btn-danger btn-adjust"
                    hx-post="{% url 'stock:quick_adjust' stock.id %}"
                    hx-target="#stock-{{ stock.id }}"
                    hx-swap="innerHTML"
                    hx-vals='{"adjustment": "-1"}'
                    title="Decrease by 1">
                    <i class="bi bi-dash-lg"></i>
                </button>
            </div>
            <div class="col-4 text-center">
                <button
                    class="btn btn-primary btn-adjust"
                    onclick="showUpdateModal({{ stock.id }}, {{ stock.quantity }})"
                    title="Set exact quantity">
                    <i class="bi bi-pencil-fill"></i>
                </button>
            </div>
            <div class="col-4 text-center">
                <button
                    class="btn btn-success btn-adjust"
                    hx-post="{% url 'stock:quick_adjust' stock.id %}"
                    hx-target="#stock-{{ stock.id }}"
                    hx-swap="innerHTML"
                    hx-vals='{"adjustment": "1"}'
                    title="Increase by 1">
                    <i class="bi bi-plus-lg"></i>
                </button>
            </div>
        </div>

        <div class="mt-2">
            <small class="text-muted">
                <i class="bi bi-clock"></i> Updated {{ stock.last_updated|naturaltime }}
            </small>
        </div>
    </div>
</div>
